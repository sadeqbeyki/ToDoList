@using global::ToDo.Application.DTOs.TaskItems
@model IEnumerable<TaskItemViewModel>

<table class="table table-hover table-bordered align-middle">
    <thead class="table-light">
        <tr>
            <th>#</th>
            <th>Title</th>
            <th>Is done</th>
            <th>List Name</th>
            <th>Creation Date</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            var rowClass = item.IsDone ? "table-danger" : "";
            <tr class="@rowClass">
                <td>@item.Id</td>
                <td>@item.Title</td>

                <td>
                    <!-- Icon -->
                    <button class="toggle-done icon-mode toggle-done-btn"
                            data-id="@item.Id"
                            data-isdone="@item.IsDone"
                            title="Change Status">
                        <i class="fa @(item.IsDone ? "fa-check text-success" : "fa-times text-danger") fa-lg transition"></i>
                    </button>

                    <!-- CheckBox -->
                    <input type="checkbox"
                           class="form-check-input checkbox-mode is-done-toggle custom-checkbox"
                           data-id="@item.Id"
                    @(item.IsDone ? "checked" : "") />
                </td>

                <td>@item.TaskListTitle</td>
                <td>@item.CreationDate</td>
                <td>
                    <a class="btn btn-outline-success btn-sm me-1" href="#showModal=@Url.Page("./Index", "Edit", new { id = item.Id })">
                        <i class="bi bi-pencil"></i> Edit
                    </a>

                    <a class="btn btn-outline-info btn-sm" href="#showModal=@Url.Page("./Index", "Details", new { id = item.Id })">
                        <i class="bi bi-info-circle"></i> Details
                    </a>

                    <button class="btn btn-outline-danger btn-sm btn-delete" data-id="@item.Id" data-url="/Adminpanel/ToDo/Tasks?handler=Delete">
                        <i class="bi "></i>Delete
                    </button>


                </td>
            </tr>
        }
    </tbody>
</table>

